--- verilog_synth
+++ uhdm_synth
@@ -1,24 +1,24 @@
 /* Generated by Yosys 0.56+171 (git sha1 6fdcdd41d, g++ 11.4.0-1ubuntu1~22.04.2 -Og -fPIC) */
 (* dynports =  1  *)
-(* top =  1  *)
 (* src = "dut.sv:1.2-51.10" *)
+(* top =  1  *)
 module fsm(clock, reset, req_0, req_1, gnt_0, gnt_1);
-(* src = "dut.sv:2.13-2.18" *)
+(* src = "dut.sv:1.15-1.20" *)
 input clock;
 wire clock;
-(* src = "dut.sv:2.19-2.24" *)
+(* src = "dut.sv:1.22-1.27" *)
 input reset;
 wire reset;
-(* src = "dut.sv:2.25-2.30" *)
+(* src = "dut.sv:1.29-1.34" *)
 input req_0;
 wire req_0;
-(* src = "dut.sv:2.31-2.36" *)
+(* src = "dut.sv:1.36-1.41" *)
 input req_1;
 wire req_1;
-(* src = "dut.sv:3.13-3.18" *)
+(* src = "dut.sv:1.43-1.48" *)
 output gnt_0;
 wire gnt_0;
-(* src = "dut.sv:3.19-3.24" *)
+(* src = "dut.sv:1.50-1.55" *)
 output gnt_1;
 wire gnt_1;
 wire _00_;
@@ -59,11 +59,12 @@
 wire _35_;
 wire _36_;
 (* force_downto = 32'd1 *)
-(* src = "dut.sv:43.26-43.26|dut.sv:24.13-49.20|/home/alain/uhdm2rtlil/out/current/bin/../share/yosys/techmap.v:576.21-576.22" *)
+(* src = "dut.sv:44.15-47.26|dut.sv:24.13-49.20|/home/alain/uhdm2rtlil/out/current/bin/../share/yosys/techmap.v:576.21-576.22" *)
 wire [2:0] _37_;
 (* force_downto = 32'd1 *)
-(* src = "dut.sv:43.26-43.26|dut.sv:24.13-49.20|/home/alain/uhdm2rtlil/out/current/bin/../share/yosys/techmap.v:576.21-576.22" *)
+(* src = "dut.sv:44.15-47.26|dut.sv:24.13-49.20|/home/alain/uhdm2rtlil/out/current/bin/../share/yosys/techmap.v:576.21-576.22" *)
 wire [0:0] _38_;
+(* \reg  = 32'd1 *)
 (* src = "dut.sv:13.20-13.25" *)
 wire [2:0] state;
 \$_NOT_  _39_ (
@@ -108,7 +109,7 @@
 \$_ANDNOT_  _47_ (
 .A(_10_),
 .B(_09_),
-.Y(_00_)
+.Y(_01_)
 );
 \$_OR_  _48_ (
 .A(_07_),
@@ -173,7 +174,7 @@
 \$_ANDNOT_  _60_ (
 .A(_20_),
 .B(_22_),
-.Y(_01_)
+.Y(_02_)
 );
 \$_OR_  _61_ (
 .A(_12_),
@@ -183,7 +184,7 @@
 \$_ANDNOT_  _62_ (
 .A(_23_),
 .B(_17_),
-.Y(_02_)
+.Y(_00_)
 );
 \$_ANDNOT_  _63_ (
 .A(_03_),
@@ -270,43 +271,48 @@
 .B(_21_),
 .Y(_38_)
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.5-50.12" *)
 \$_SDFFE_PP0P_  gnt_0_reg /* _80_ */ (
 .C(clock),
 .D(_03_),
-.E(_00_),
+.E(_01_),
 .Q(gnt_0),
 .R(reset)
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.5-50.12" *)
 \$_SDFFE_PP0P_  gnt_1_reg /* _81_ */ (
 .C(clock),
 .D(_38_),
-.E(_01_),
+.E(_02_),
 .Q(gnt_1),
 .R(reset)
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.5-50.12" *)
 \$_SDFFE_PP1P_  \state_reg[0]  /* _82_ */ (
 .C(clock),
 .D(_37_[0]),
-.E(_02_),
+.E(_00_),
 .Q(state[0]),
 .R(reset)
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.5-50.12" *)
 \$_SDFFE_PP0P_  \state_reg[1]  /* _83_ */ (
 .C(clock),
 .D(_37_[1]),
-.E(_02_),
+.E(_00_),
 .Q(state[1]),
 .R(reset)
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.5-50.12" *)
 \$_SDFFE_PP0P_  \state_reg[2]  /* _84_ */ (
 .C(clock),
 .D(_37_[2]),
-.E(_02_),
+.E(_00_),
 .Q(state[2]),
 .R(reset)
 );
