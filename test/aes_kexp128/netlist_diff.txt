--- verilog_synth
+++ uhdm_synth
@@ -1,34 +1,31 @@
 /* Generated by Yosys 0.56+171 (git sha1 6fdcdd41d, g++ 11.4.0-1ubuntu1~22.04.2 -Og -fPIC) */
-(* top =  1  *)
 (* src = "dut.sv:4.1-23.10" *)
+(* top =  1  *)
 module aes_key_expand_128(clk, kld, key, wo_0, wo_1, wo_2, wo_3);
-(* src = "dut.sv:6.8-6.11" *)
+(* src = "dut.sv:4.27-4.30" *)
 input clk;
 wire clk;
-(* src = "dut.sv:6.13-6.16" *)
+(* src = "dut.sv:4.32-4.35" *)
 input kld;
 wire kld;
-(* src = "dut.sv:7.14-7.17" *)
+(* src = "dut.sv:4.37-4.40" *)
 input [15:0] key;
 wire [15:0] key;
-(* src = "dut.sv:8.14-8.18" *)
+(* src = "dut.sv:4.42-4.46" *)
 output [3:0] wo_0;
 wire [3:0] wo_0;
-(* src = "dut.sv:8.20-8.24" *)
+(* src = "dut.sv:4.48-4.52" *)
 output [3:0] wo_1;
 wire [3:0] wo_1;
-(* src = "dut.sv:8.26-8.30" *)
+(* src = "dut.sv:4.54-4.58" *)
 output [3:0] wo_2;
 wire [3:0] wo_2;
-(* src = "dut.sv:8.32-8.36" *)
+(* src = "dut.sv:4.60-4.64" *)
 output [3:0] wo_3;
 wire [3:0] wo_3;
-(* src = "dut.sv:16.1-21.4" *)
-wire [3:0] _00_;
-(* src = "dut.sv:16.1-21.4" *)
-wire [3:0] _01_;
-(* src = "dut.sv:16.1-21.4" *)
-wire [3:0] _02_;
+wire _00_;
+wire _01_;
+wire _02_;
 wire _03_;
 wire _04_;
 wire _05_;
@@ -41,6 +38,15 @@
 wire _12_;
 wire _13_;
 wire _14_;
+wire _15_;
+wire _16_;
+wire _17_;
+wire _18_;
+wire _19_;
+wire _20_;
+wire _21_;
+wire _22_;
+wire _23_;
 (* src = "dut.sv:9.11-9.12" *)
 wire [3:0] \w[0] ;
 (* src = "dut.sv:9.11-9.12" *)
@@ -49,237 +55,253 @@
 wire [3:0] \w[2] ;
 (* src = "dut.sv:9.11-9.12" *)
 wire [3:0] \w[3] ;
-\$_XOR_  _15_ (
+\$_XOR_  _24_ (
+.A(\w[1] [0]),
+.B(\w[0] [0]),
+.Y(_12_)
+);
+\$_MUX_  _25_ (
+.A(_12_),
+.B(key[8]),
+.S(kld),
+.Y(_08_)
+);
+\$_XOR_  _26_ (
+.A(\w[1] [1]),
+.B(\w[0] [1]),
+.Y(_13_)
+);
+\$_MUX_  _27_ (
+.A(_13_),
+.B(key[9]),
+.S(kld),
+.Y(_09_)
+);
+\$_XOR_  _28_ (
 .A(\w[1] [2]),
 .B(\w[0] [2]),
-.Y(_03_)
+.Y(_14_)
 );
-\$_MUX_  _16_ (
-.A(_03_),
+\$_MUX_  _29_ (
+.A(_14_),
 .B(key[10]),
 .S(kld),
-.Y(_00_[2])
+.Y(_10_)
 );
-\$_XOR_  _17_ (
+\$_XOR_  _30_ (
 .A(\w[1] [3]),
 .B(\w[0] [3]),
-.Y(_04_)
+.Y(_15_)
 );
-\$_MUX_  _18_ (
-.A(_04_),
+\$_MUX_  _31_ (
+.A(_15_),
 .B(key[11]),
 .S(kld),
-.Y(_00_[3])
-);
-\$_XOR_  _19_ (
-.A(\w[1] [0]),
-.B(\w[0] [0]),
-.Y(_05_)
+.Y(_11_)
 );
-\$_XOR_  _20_ (
-.A(_05_),
+\$_XOR_  _32_ (
+.A(_12_),
 .B(\w[2] [0]),
-.Y(_06_)
+.Y(_16_)
 );
-\$_MUX_  _21_ (
-.A(_06_),
+\$_MUX_  _33_ (
+.A(_16_),
 .B(key[4]),
 .S(kld),
-.Y(_01_[0])
-);
-\$_XOR_  _22_ (
-.A(\w[1] [1]),
-.B(\w[0] [1]),
-.Y(_07_)
+.Y(_00_)
 );
-\$_XOR_  _23_ (
-.A(_07_),
+\$_XOR_  _34_ (
+.A(_13_),
 .B(\w[2] [1]),
-.Y(_08_)
+.Y(_17_)
 );
-\$_MUX_  _24_ (
-.A(_08_),
+\$_MUX_  _35_ (
+.A(_17_),
 .B(key[5]),
 .S(kld),
-.Y(_01_[1])
+.Y(_01_)
 );
-\$_XOR_  _25_ (
-.A(_03_),
+\$_XOR_  _36_ (
+.A(_14_),
 .B(\w[2] [2]),
-.Y(_09_)
+.Y(_18_)
 );
-\$_MUX_  _26_ (
-.A(_09_),
+\$_MUX_  _37_ (
+.A(_18_),
 .B(key[6]),
 .S(kld),
-.Y(_01_[2])
+.Y(_02_)
 );
-\$_XOR_  _27_ (
-.A(_04_),
+\$_XOR_  _38_ (
+.A(_15_),
 .B(\w[2] [3]),
-.Y(_10_)
+.Y(_19_)
 );
-\$_MUX_  _28_ (
-.A(_10_),
+\$_MUX_  _39_ (
+.A(_19_),
 .B(key[7]),
 .S(kld),
-.Y(_01_[3])
+.Y(_03_)
 );
-\$_XOR_  _29_ (
-.A(_06_),
+\$_XOR_  _40_ (
+.A(_16_),
 .B(\w[3] [0]),
-.Y(_11_)
+.Y(_20_)
 );
-\$_MUX_  _30_ (
-.A(_11_),
+\$_MUX_  _41_ (
+.A(_20_),
 .B(key[0]),
 .S(kld),
-.Y(_02_[0])
+.Y(_04_)
 );
-\$_XOR_  _31_ (
-.A(_08_),
+\$_XOR_  _42_ (
+.A(_17_),
 .B(\w[3] [1]),
-.Y(_12_)
+.Y(_21_)
 );
-\$_MUX_  _32_ (
-.A(_12_),
+\$_MUX_  _43_ (
+.A(_21_),
 .B(key[1]),
 .S(kld),
-.Y(_02_[1])
+.Y(_05_)
 );
-\$_XOR_  _33_ (
-.A(_09_),
+\$_XOR_  _44_ (
+.A(_18_),
 .B(\w[3] [2]),
-.Y(_13_)
+.Y(_22_)
 );
-\$_MUX_  _34_ (
-.A(_13_),
+\$_MUX_  _45_ (
+.A(_22_),
 .B(key[2]),
 .S(kld),
-.Y(_02_[2])
+.Y(_06_)
 );
-\$_XOR_  _35_ (
-.A(_10_),
+\$_XOR_  _46_ (
+.A(_19_),
 .B(\w[3] [3]),
-.Y(_14_)
+.Y(_23_)
 );
-\$_MUX_  _36_ (
-.A(_14_),
+\$_MUX_  _47_ (
+.A(_23_),
 .B(key[3]),
 .S(kld),
-.Y(_02_[3])
-);
-\$_MUX_  _37_ (
-.A(_05_),
-.B(key[8]),
-.S(kld),
-.Y(_00_[0])
-);
-\$_MUX_  _38_ (
-.A(_07_),
-.B(key[9]),
-.S(kld),
-.Y(_00_[1])
+.Y(_07_)
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFFE_PP_  \w_reg[0][0]  /* _39_ */ (
+\$_DFFE_PP_  \w_reg[0][0]  /* _48_ */ (
 .C(clk),
 .D(key[12]),
 .E(kld),
 .Q(\w[0] [0])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFFE_PP_  \w_reg[0][1]  /* _40_ */ (
+\$_DFFE_PP_  \w_reg[0][1]  /* _49_ */ (
 .C(clk),
 .D(key[13]),
 .E(kld),
 .Q(\w[0] [1])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFFE_PP_  \w_reg[0][2]  /* _41_ */ (
+\$_DFFE_PP_  \w_reg[0][2]  /* _50_ */ (
 .C(clk),
 .D(key[14]),
 .E(kld),
 .Q(\w[0] [2])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFFE_PP_  \w_reg[0][3]  /* _42_ */ (
+\$_DFFE_PP_  \w_reg[0][3]  /* _51_ */ (
 .C(clk),
 .D(key[15]),
 .E(kld),
 .Q(\w[0] [3])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[1][0]  /* _43_ */ (
+\$_DFF_P_  \w_reg[3][0]  /* _52_ */ (
 .C(clk),
-.D(_00_[0]),
-.Q(\w[1] [0])
+.D(_04_),
+.Q(\w[3] [0])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[1][1]  /* _44_ */ (
+\$_DFF_P_  \w_reg[3][1]  /* _53_ */ (
 .C(clk),
-.D(_00_[1]),
-.Q(\w[1] [1])
+.D(_05_),
+.Q(\w[3] [1])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[1][2]  /* _45_ */ (
+\$_DFF_P_  \w_reg[3][2]  /* _54_ */ (
 .C(clk),
-.D(_00_[2]),
-.Q(\w[1] [2])
+.D(_06_),
+.Q(\w[3] [2])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[1][3]  /* _46_ */ (
+\$_DFF_P_  \w_reg[3][3]  /* _55_ */ (
 .C(clk),
-.D(_00_[3]),
-.Q(\w[1] [3])
+.D(_07_),
+.Q(\w[3] [3])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[2][0]  /* _47_ */ (
+\$_DFF_P_  \w_reg[1][0]  /* _56_ */ (
 .C(clk),
-.D(_01_[0]),
-.Q(\w[2] [0])
+.D(_08_),
+.Q(\w[1] [0])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[2][1]  /* _48_ */ (
+\$_DFF_P_  \w_reg[1][1]  /* _57_ */ (
 .C(clk),
-.D(_01_[1]),
-.Q(\w[2] [1])
+.D(_09_),
+.Q(\w[1] [1])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[2][2]  /* _49_ */ (
+\$_DFF_P_  \w_reg[1][2]  /* _58_ */ (
 .C(clk),
-.D(_01_[2]),
-.Q(\w[2] [2])
+.D(_10_),
+.Q(\w[1] [2])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[2][3]  /* _50_ */ (
+\$_DFF_P_  \w_reg[1][3]  /* _59_ */ (
 .C(clk),
-.D(_01_[3]),
-.Q(\w[2] [3])
+.D(_11_),
+.Q(\w[1] [3])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[3][0]  /* _51_ */ (
+\$_DFF_P_  \w_reg[2][0]  /* _60_ */ (
 .C(clk),
-.D(_02_[0]),
-.Q(\w[3] [0])
+.D(_00_),
+.Q(\w[2] [0])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[3][1]  /* _52_ */ (
+\$_DFF_P_  \w_reg[2][1]  /* _61_ */ (
 .C(clk),
-.D(_02_[1]),
-.Q(\w[3] [1])
+.D(_01_),
+.Q(\w[2] [1])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[3][2]  /* _53_ */ (
+\$_DFF_P_  \w_reg[2][2]  /* _62_ */ (
 .C(clk),
-.D(_02_[2]),
-.Q(\w[3] [2])
+.D(_02_),
+.Q(\w[2] [2])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:16.1-21.4" *)
-\$_DFF_P_  \w_reg[3][3]  /* _54_ */ (
+\$_DFF_P_  \w_reg[2][3]  /* _63_ */ (
 .C(clk),
-.D(_02_[3]),
-.Q(\w[3] [3])
+.D(_03_),
+.Q(\w[2] [3])
 );
 assign wo_0 = \w[0] ;
 assign wo_1 = \w[1] ;
