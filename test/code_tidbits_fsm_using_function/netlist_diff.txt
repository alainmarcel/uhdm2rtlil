--- verilog_synth
+++ uhdm_synth
@@ -1,24 +1,24 @@
 /* Generated by Yosys 0.56+171 (git sha1 6fdcdd41d, g++ 11.4.0-1ubuntu1~22.04.2 -Og -fPIC) */
 (* dynports =  1  *)
-(* top =  1  *)
 (* src = "dut.sv:6.1-94.10" *)
+(* top =  1  *)
 module fsm_using_function(clock, reset, req_0, req_1, gnt_0, gnt_1);
-(* src = "dut.sv:15.9-15.14" *)
+(* src = "dut.sv:7.1-7.6" *)
 input clock;
 wire clock;
-(* src = "dut.sv:15.15-15.20" *)
+(* src = "dut.sv:8.1-8.6" *)
 input reset;
 wire reset;
-(* src = "dut.sv:15.21-15.26" *)
+(* src = "dut.sv:9.1-9.6" *)
 input req_0;
 wire req_0;
-(* src = "dut.sv:15.27-15.32" *)
+(* src = "dut.sv:10.1-10.6" *)
 input req_1;
 wire req_1;
-(* src = "dut.sv:17.9-17.14" *)
+(* src = "dut.sv:11.1-11.6" *)
 output gnt_0;
 wire gnt_0;
-(* src = "dut.sv:17.15-17.20" *)
+(* src = "dut.sv:12.1-12.6" *)
 output gnt_1;
 wire gnt_1;
 wire _00_;
@@ -46,22 +46,22 @@
 wire _22_;
 wire _23_;
 (* force_downto = 32'd1 *)
-(* src = "dut.sv:47.18-47.18|dut.sv:35.3-54.10|/home/alain/uhdm2rtlil/out/current/bin/../share/yosys/techmap.v:574.22-574.23" *)
+(* src = "dut.sv:48.4-52.18|dut.sv:35.3-54.10|/home/alain/uhdm2rtlil/out/current/bin/../share/yosys/techmap.v:574.22-574.23" *)
 (* unused_bits = "2" *)
 wire [2:0] _24_;
-(* src = "dut.sv:31.33-31.33" *)
 wire [2:0] \fsm_function$func$dut.sv:29$1.$result ;
 (* nosync = 32'd1 *)
-(* src = "dut.sv:33.12-33.17" *)
+(* src = "dut.sv:29.21-29.54" *)
 wire \fsm_function$func$dut.sv:29$2.req_0 ;
 (* nosync = 32'd1 *)
-(* src = "dut.sv:34.12-34.17" *)
+(* src = "dut.sv:29.21-29.54" *)
 wire \fsm_function$func$dut.sv:29$2.req_1 ;
 (* nosync = 32'd1 *)
-(* src = "dut.sv:32.22-32.27" *)
+(* src = "dut.sv:29.21-29.54" *)
 wire [2:0] \fsm_function$func$dut.sv:29$2.state ;
 (* src = "dut.sv:27.27-27.37" *)
 wire [2:0] next_state;
+(* \reg  = 32'd1 *)
 (* src = "dut.sv:26.27-26.32" *)
 wire [2:0] state;
 \$_NOT_  _25_ (
@@ -205,6 +205,7 @@
 .B(_23_),
 .Y(\fsm_function$func$dut.sv:29$1.$result [2])
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:66.1-92.4" *)
 \$_SDFF_PP0_  gnt_0_reg /* _54_ */ (
 .C(clock),
@@ -212,6 +213,7 @@
 .Q(gnt_0),
 .R(reset)
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:66.1-92.4" *)
 \$_SDFF_PP0_  gnt_1_reg /* _55_ */ (
 .C(clock),
@@ -219,6 +221,7 @@
 .Q(gnt_1),
 .R(reset)
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:57.1-64.4" *)
 \$_SDFF_PP1_  \state_reg[0]  /* _56_ */ (
 .C(clock),
@@ -226,6 +229,7 @@
 .Q(state[0]),
 .R(reset)
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:57.1-64.4" *)
 \$_SDFF_PP0_  \state_reg[1]  /* _57_ */ (
 .C(clock),
@@ -233,6 +237,7 @@
 .Q(state[1]),
 .R(reset)
 );
+(* \always_ff  = 32'd1 *)
 (* src = "dut.sv:57.1-64.4" *)
 \$_SDFF_PP0_  \state_reg[2]  /* _58_ */ (
 .C(clock),
